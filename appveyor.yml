version: "{branch} {build}"
skip_tags: true
clone_depth: 10

environment:
  global:
    # SDK v7.0 MSVC Express 2008's SetEnv.cmd script will fail if the
    # /E:ON and /V:ON options are not enabled in the batch script intepreter
    # See: http://stackoverflow.com/a/13751649/163740
    CMD_IN_ENV: "cmd /E:ON /V:ON /C .\\appveyor\\run_with_env.cmd"
    ANT_HOME: C:\ant

build:
  verbosity: detailed

install:
  - appveyor DownloadFile http://mirror.fibergrid.in/apache//ant/binaries/apache-ant-1.10.1-bin.zip
  - 7z x apache-ant-1.10.1-bin.zip > nul
 
build_script:
  - set PATH=C:\apache-ant-1.10.1\bin;;%PATH%
  - set ANT_HOME=C:\apache-ant-1.10.1\bin;
  - ant ivy-bootstrap
  - ant jar

environment:
  matrix:
  - JAVA_HOME: C:\Program Files\Java\jdk1.7.0
  - JAVA_HOME: C:\Program Files\Java\jdk1.8.0
  - JAVA_HOME: C:\Program Files (x86)\Java\jdk1.7.0
  - JAVA_HOME: C:\Program Files (x86)\Java\jdk1.8.0

matrix:
  fast_finish: true
